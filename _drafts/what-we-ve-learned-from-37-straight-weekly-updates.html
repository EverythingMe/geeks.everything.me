---
layout: post
title: what we've learned from 37 straight weekly updates
date:
type: post
published: false
status: draft
categories: []
tags: []
meta:
  _edit_last: '2'
author:
  login: joey
  email: joey@everything.me
  display_name: joey
  first_name: Joey
  last_name: Simhon
---
<p>Take a look at the chart below. It shows the daily upgrades of our <a href="https://play.google.com/store/apps/details?id=me.everything.launcher&amp;referrer=utm_source%3Dgeeksblog%26utm_content%3Drapid-release" target="_blank">Android Launcher</a>, dating back to its beta phase:</p>
<p><img class="alignnone wp-image-1057 size-medium" src="{{ site.baseurl }}/assets/rapid_release-688x169.png" alt="" width="688" height="169" /><br />
If you look at the above graph as an EKG chart, you can see that 2014 showed an erratic pulse - clearly there's something wrong with the patient. But then, 2015 comes along and you can notice a steady, solid pulse - someone's been eating well and working out :)</p>
<p>2015 marked a shift in how we deliver our mobile app to the world. We made a commitment as a team to release a version <span style="text-decoration: underline;">every week</span>, and stood by it. This couldn't have happened without us changing the way we plan our work, the tools we use and our approach to releases. In this post, I'll try and cover some of the most significant aspects of this change.</p>
<h1>Switch to time-based releases</h1>
<p>As a strong team that does continuous delivery (multiple times a day) to its backend and infrastructure systems, mobile releases felt off and different. The mobile team worked with product in Sprints which represented work we assessed would be completed in 2 weeks. This led to actual work taking anywhere between 2-4 weeks (2X from estimates is quite good, no?), now we had ~4 weeks worth of work we needed to stabilize and test. There go another 1-2 weeks.</p>
<p>We agreed as a team (Product &amp; Engineering), that we'll never have that "hold off the release and wait for feature Y" talk ever again. We'll change our commitment from "release the version only when x, y, z are ready" to "release whatever's ready by Thu". Suddenly we're not stopping ourselves from moving forward, and as a bonus we've earned a much lighter scope to test.</p>
<p>Since semantics are important, we moved from 'Sprint' to 'Pulse' which also reflects the company and product heartbeat.</p>
<h1>Master is always stable</h1>
<p>In the "Sprint" days we landed features in master under the assumption that it wouldn't be released until ready. Suddenly, this luxury was taken from us and the contract changed to "what lands in master, lands in users' hands". This required us to adopt a similar approach to what we do on the backend - features are developed and tested in feature branches and only land in master once complete.</p>
<h1>Short and predictable TFU</h1>
<p>We quickly realized that landing in master requires real user testing. If we want to stay productive and not chase after releases with hotfixes, we need those features to reach users before the actual release - we call it <strong>T</strong>ime to <strong>F</strong>irst <strong>U</strong>ser. EverythingMe is fortunate to have an amazing community of users who love the product and provide feedback. We've built a tool called Backstage (which is an app as well) that allows any engineer on the team to get real "user hours" through our community, while still in a feature branch. We went down from TFU of ~2 weeks  to 24-48 hours. It gives us a near-instant feedback loop and team members have minimal context switching while working on features. It also allows us to "fire-and-forget" when landing on master in most cases, leaving the rest of the release in the hands of the release team.</p>
<h1>Make UI Automation a reality</h1>
<p>We've put substantial effort into UI test automation since we realized the responsibility of being the daily driver of our users' phones, a responsibility that comes with being a launcher. I'll be frank - UI automation is hard! There are so many variables and issues that range from hardware to tooling to software to questions of responsibility. We tackled this one head on, <a href="http://www.slideshare.net/ranbena/my-10-mobile-automation-questions">asked a lot of questions</a>, and ended up building <a href="http://getmagneto.com/" target="_blank">Magneto</a>, our Python based UI automation framework which leverages Android's UIAutomator.</p>
<p>It didn't end here. We also agreed that feature owners will develop the feature and its tests, allowing us to both land a feature and its regression counter-measure hence sharing the load within the team when it comes to quality and regression prevention.</p>
<h1>Invest in visibility</h1>
<p>Being a engineering oriented company and team means a few things, one being that any minute spent in meetings and syncs is a minute not spent landing the next feature (I sometimes find myself chanting "code does no write itself" in case it's forgotten). Not undermining the need for communication and joint work, but to move this fast meant a lot of questions will be asked and will require an answer. Questions like "when did we release feature X?", "can we correlate the change in stat X to a specific version?" and "what did version X.Y.Z include?". We built a tool for that - Rollout, our internal release timeline and investigation tool.</p>
<p><img class="alignnone size-medium wp-image-1061" src="{{ site.baseurl }}/assets/Screen-Shot-2015-09-07-at-20.05.06-673x688.png" alt="Screen Shot 2015-09-07 at 20.05.06" width="673" height="688" /></p>
<h1>Split features planning into "landings"</h1>
<p>This shift was a deep cooperation between the two sides of our brain, where product had accepted a reality where sometimes a version will not contain what we hoped for, and sometimes features will land imperfect. It required us to adjust how we spec and plan for a feature to reach users,. We often define Landing-1 / Landing-2 / ... in our specs to help engineers approach a feature while staying close to master.</p>
<p>Whenever we feel that urge to push the scope or consider holding off a feature, we look back 37 weeks and remember another pulse is around the corner - we can breath, let go and focus on getting there ready.</p>
<p>This approach enjoys the fact Google Play has a auto-update feature that manages to push updates to a large portion of our user-base within a week (~70%) and reach the rest within a few weeks time.</p>
<p>Continuous Delivery for mobile is the only way to go for us. It made our product better, our team more impactful and is totally worth the effort.</p>
<p>[hiring box - tools &amp; automation]</p>
